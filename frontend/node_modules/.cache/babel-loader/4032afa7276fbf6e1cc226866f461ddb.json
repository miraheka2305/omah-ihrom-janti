{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/src/admin/ManageProduct/ManageProduct.jsx\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  display: block;\\n  width: 20px;\\n  height: 20px;\\n  cursor: pointer;\\n  margin: 10px auto;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100px;\\n  height: 100px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 550px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px;\\n  text-align: left;\\n  border: 1px solid black;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px;\\n  text-align: center;\\n  border: 1px solid black;\\n  border-collapse: collapse;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 20px auto;\\n  border-collapse: collapse;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  max-height: 658px;\\n  overflow-y: auto;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 130px;\\n  padding: 7px 5px;\\n  text-align: center;\\n  font-size: 14px;\\n  border: none;\\n  border-radius: 5px;\\n  color: white;\\n  cursor: pointer;\\n  background: #484848;\\n  margin: 0 20px;\\n  &:hover {\\n    background: #888888;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport EditIcon from \"../../assets/edit.svg\";\nimport DeleteIcon from \"../../assets/waste-bin.svg\";\nimport AddProduct from \"../AddProduct/AddProduct\";\nimport ModalConfirmation from \"../../components/ModalConfirmation/ModalConfirmation\";\n\nvar ManageProduct =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManageProduct, _Component);\n\n  function ManageProduct(props) {\n    var _this;\n\n    _classCallCheck(this, ManageProduct);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageProduct).call(this, props));\n    _this.state = {\n      open: false,\n      openConfirm: false,\n      products: [// {\n        //   id: 0,\n        //   name: \"Handuk Sutra\",\n        //   price: \"100000\",\n        //   desc:\n        //     \" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolorin reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"https://n.nordstrommedia.com/ImageGallery/store/product/Zoom/4/_13485964.jpg?h=365&w=240&dpr=2&quality=45&fit=fill&fm=jpg\"\n        // },\n        // {\n        //   id: 1,\n        //   name: \"Kain Rayon\",\n        //   price: \"50000\",\n        //   desc:\n        //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"http://bahankain.com/wp-content/uploads//2014/12/pakaian-berbahan-wool.jpg\"\n        // },\n        // {\n        //   id: 2,\n        //   name: \"Kain Wol\",\n        //   price: \"80000\",\n        //   desc:\n        //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"https://n.nordstrommedia.com/ImageGallery/store/product/Zoom/4/_13485964.jpg?h=365&w=240&dpr=2&quality=45&fit=fill&fm=jpg\"\n        // }\n      ],\n      item: {}\n    };\n    _this.openAddModal = _this.openAddModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openEditModal = _this.openEditModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openConfirmModal = _this.openConfirmModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDeleteProduct = _this.onDeleteProduct.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeConfirmModal = _this.closeConfirmModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ManageProduct, [{\n    key: \"getProductData\",\n    value: function getProductData() {\n      var options = {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      };\n      return fetch('http://localhost:8000/api/products', options).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getProductData().then(function (response) {\n        var productsData = response.Data;\n        var products = [];\n\n        if (productsData.length > 0) {\n          productsData.forEach(function (product) {\n            products.push({\n              id: product.Id,\n              name: product.Name,\n              price: product.Price,\n              description: product.Description,\n              image: 'http://localhost:8000/api' + product.Images[0].Url\n            });\n          });\n        }\n\n        _this2.setState({\n          products: products\n        });\n      });\n    }\n  }, {\n    key: \"openAddModal\",\n    value: function openAddModal() {\n      var id = this.state.products.length + 1;\n      this.setState({\n        open: true,\n        item: {\n          id: id,\n          name: \"\",\n          price: \"\",\n          desc: \"\",\n          image: \"\"\n        }\n      });\n    }\n  }, {\n    key: \"openEditModal\",\n    value: function openEditModal(product) {\n      this.setState({\n        open: true,\n        item: product\n      });\n    }\n  }, {\n    key: \"openConfirmModal\",\n    value: function openConfirmModal() {\n      this.setState({\n        openConfirm: true\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"closeConfirmModal\",\n    value: function closeConfirmModal() {\n      this.setState({\n        openConfirm: false\n      });\n    }\n  }, {\n    key: \"onDeleteProduct\",\n    value: function onDeleteProduct(product) {\n      var products = _toConsumableArray(this.state.products);\n\n      var idxProduct = products.indexOf(product);\n\n      if (idxProduct !== -1) {\n        products.splice(idxProduct, 1);\n        this.setState({\n          products: products,\n          openConfirm: false\n        });\n      }\n    }\n  }, {\n    key: \"postProduct\",\n    value: function postProduct(newProduct) {\n      var productData = {\n        name: newProduct.name,\n        price: newProduct.price,\n        desc: newProduct.desc,\n        image: newProduct.image\n      };\n      var options = {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: JSON.stringify(productData)\n      };\n      return fetch('http://localhost:8000/api/products', options).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(newItem) {\n      // console.log(this.state);\n      // console.log(newItem);\n      // var indexProduct = this.state.products.findIndex(function(item) {\n      //   return item.id === newItem.id;\n      // });\n      var indexProduct;\n      this.postProduct(newItem).then(function (response) {\n        indexProduct = response.Id;\n      }); // console.log(indexProduct);\n\n      var newArrProducts = this.state.products.slice();\n\n      if (indexProduct !== -1) {\n        newArrProducts[indexProduct] = newItem;\n      } else {\n        newArrProducts.push(newItem);\n        console.log(newArrProducts);\n      }\n\n      this.setState({\n        products: newArrProducts\n      });\n      this.closeModal();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Manage Product\"), React.createElement(AddButton, {\n        onClick: this.openAddModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Add New Product\"), React.createElement(TableWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"No\"), React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Product Name\"), React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Product Price\"), React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Product Desc\"), React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Product Image\"), React.createElement(HeadCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Manage Product\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.state.products.map(function (product, index) {\n        return React.createElement(\"tr\", {\n          key: product.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(BodyCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, index + 1), React.createElement(BodyCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, product.name), React.createElement(BodyCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, product.price), React.createElement(DescColumn, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, product.desc), React.createElement(BodyCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(ProductImg, {\n          src: product.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        })), React.createElement(BodyCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(IconImg, {\n          src: EditIcon,\n          onClick: function onClick() {\n            _this3.openEditModal(product);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }), React.createElement(IconImg, {\n          src: DeleteIcon,\n          onClick: _this3.openConfirmModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }), _this3.state.openConfirm ? React.createElement(ModalConfirmation, {\n          open: _this3.state.openConfirm,\n          onClose: _this3.closeConfirmModal,\n          product: product,\n          onDelete: function onDelete(product) {\n            return _this3.onDeleteProduct(product);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }) : \"\"));\n      })))), this.state.open ? React.createElement(AddProduct, {\n        open: this.state.open,\n        item: this.state.item,\n        onClose: this.closeModal,\n        onSubmit: function onSubmit(newItem) {\n          return _this3.handleSubmit(newItem);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }) : \"\");\n    }\n  }]);\n\n  return ManageProduct;\n}(Component);\n\nexport { ManageProduct as default };\nvar Wrapper = styled.div(_templateObject());\nvar Title = styled.h1(_templateObject2());\nvar AddButton = styled.button(_templateObject3());\nvar TableWrapper = styled.div(_templateObject4());\nvar Table = styled.table(_templateObject5());\nvar HeadCell = styled.th(_templateObject6());\nvar BodyCell = styled.td(_templateObject7());\nvar DescColumn = styled(BodyCell)(_templateObject8());\nvar ProductImg = styled.img(_templateObject9());\nvar IconImg = styled.img(_templateObject10());","map":{"version":3,"sources":["/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/src/admin/ManageProduct/ManageProduct.jsx"],"names":["React","Component","styled","AddProduct","ModalConfirmation","ManageProduct","props","state","open","openConfirm","products","item","openAddModal","bind","openEditModal","openConfirmModal","onDeleteProduct","closeModal","closeConfirmModal","options","method","headers","fetch","then","response","json","getProductData","productsData","Data","length","forEach","product","push","id","Id","name","Name","price","Price","description","Description","image","Images","Url","setState","desc","idxProduct","indexOf","splice","newProduct","productData","body","JSON","stringify","newItem","indexProduct","postProduct","newArrProducts","slice","console","log","map","index","EditIcon","DeleteIcon","handleSubmit","Wrapper","div","Title","h1","AddButton","button","TableWrapper","Table","table","HeadCell","th","BodyCell","td","DescColumn","ProductImg","img","IconImg"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport EditIcon from \"../../assets/edit.svg\";\nimport DeleteIcon from \"../../assets/waste-bin.svg\";\nimport AddProduct from \"../AddProduct/AddProduct\";\nimport ModalConfirmation from \"../../components/ModalConfirmation/ModalConfirmation\";\n\nexport default class ManageProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      openConfirm: false,\n      products: [\n        // {\n        //   id: 0,\n        //   name: \"Handuk Sutra\",\n        //   price: \"100000\",\n        //   desc:\n        //     \" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolorin reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"https://n.nordstrommedia.com/ImageGallery/store/product/Zoom/4/_13485964.jpg?h=365&w=240&dpr=2&quality=45&fit=fill&fm=jpg\"\n        // },\n        // {\n        //   id: 1,\n        //   name: \"Kain Rayon\",\n        //   price: \"50000\",\n        //   desc:\n        //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"http://bahankain.com/wp-content/uploads//2014/12/pakaian-berbahan-wool.jpg\"\n        // },\n        // {\n        //   id: 2,\n        //   name: \"Kain Wol\",\n        //   price: \"80000\",\n        //   desc:\n        //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n        //   image:\n        //     \"https://n.nordstrommedia.com/ImageGallery/store/product/Zoom/4/_13485964.jpg?h=365&w=240&dpr=2&quality=45&fit=fill&fm=jpg\"\n        // }\n      ],\n      item: {}\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.openEditModal = this.openEditModal.bind(this);\n    this.openConfirmModal = this.openConfirmModal.bind(this);\n    this.onDeleteProduct = this.onDeleteProduct.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.closeConfirmModal = this.closeConfirmModal.bind(this);\n  }\n\n  getProductData() {\n    const options = {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json',\n      },\n    }\n    return fetch('http://localhost:8000/api/products', options)\n    .then(response => {\n      return response.json();\n    });\n  }\n\n  componentDidMount() {\n    this.getProductData().then(response => {\n      let productsData = response.Data;\n      let products = [];\n      if (productsData.length > 0) {\n        productsData.forEach( product => {\n          products.push({\n            id : product.Id,\n            name: product.Name,\n            price : product.Price,\n            description: product.Description,\n            image : 'http://localhost:8000/api' + product.Images[0].Url\n          });\n        })\n      }\n      this.setState({ \n        products : products\n      });\n    })\n  }\n\n  openAddModal() {\n    let id = this.state.products.length + 1;\n    this.setState({\n      open: true,\n      item: {\n        id: id,\n        name: \"\",\n        price: \"\",\n        desc: \"\",\n        image: \"\"\n      }\n    });\n  }\n\n  openEditModal(product) {\n    this.setState({ open: true, item: product });\n  }\n\n  openConfirmModal() {\n    this.setState({\n      openConfirm: true\n    });\n  }\n\n  closeModal() {\n    this.setState({ open: false });\n  }\n\n  closeConfirmModal() {\n    this.setState({\n      openConfirm: false\n    });\n  }\n\n  onDeleteProduct(product) {\n    let products = [...this.state.products];\n    let idxProduct = products.indexOf(product);\n    if (idxProduct !== -1) {\n      products.splice(idxProduct, 1);\n      this.setState({\n        products: products,\n        openConfirm: false\n      });\n    }\n  }\n\n  postProduct(newProduct){\n    let productData = {\n      name: newProduct.name,\n      price: newProduct.price,\n      desc: newProduct.desc,\n      image: newProduct.image\n    }\n\n    const options = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: JSON.stringify(productData)\n    }\n    return fetch('http://localhost:8000/api/products', options)\n    .then(response => {\n      return response.json();\n    });\n  }\n\n  handleSubmit(newItem) {\n    // console.log(this.state);\n    // console.log(newItem);\n    // var indexProduct = this.state.products.findIndex(function(item) {\n    //   return item.id === newItem.id;\n    // });\n    let indexProduct;\n    this.postProduct(newItem).then( response => {\n       indexProduct = response.Id\n    });\n\n    // console.log(indexProduct);\n    const newArrProducts = this.state.products.slice();\n    if (indexProduct !== -1) {\n      newArrProducts[indexProduct] = newItem;\n    } else {\n      newArrProducts.push(newItem);\n      console.log(newArrProducts);\n    }\n    this.setState({\n      products: newArrProducts\n    });\n    this.closeModal();\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Title>Manage Product</Title>\n        <AddButton onClick={this.openAddModal}>Add New Product</AddButton>\n        <TableWrapper>\n          <Table>\n            <thead>\n              <tr>\n                <HeadCell>No</HeadCell>\n                <HeadCell>Product Name</HeadCell>\n                <HeadCell>Product Price</HeadCell>\n                <HeadCell>Product Desc</HeadCell>\n                <HeadCell>Product Image</HeadCell>\n                <HeadCell>Manage Product</HeadCell>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.products.map((product, index) => {\n                return (\n                  <tr key={product.id}>\n                    <BodyCell>{index + 1}</BodyCell>\n                    <BodyCell>{product.name}</BodyCell>\n                    <BodyCell>{product.price}</BodyCell>\n                    <DescColumn>{product.desc}</DescColumn>\n                    <BodyCell>\n                      <ProductImg src={product.image} />\n                    </BodyCell>\n                    <BodyCell>\n                      <IconImg\n                        src={EditIcon}\n                        onClick={() => {\n                          this.openEditModal(product);\n                        }}\n                      />\n                      <IconImg\n                        src={DeleteIcon}\n                        onClick={this.openConfirmModal}\n                      />\n                      {this.state.openConfirm ? (\n                        <ModalConfirmation\n                          open={this.state.openConfirm}\n                          onClose={this.closeConfirmModal}\n                          product={product}\n                          onDelete={product => this.onDeleteProduct(product)}\n                        />\n                      ) : (\n                        \"\"\n                      )}\n                    </BodyCell>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </TableWrapper>\n        {this.state.open ? (\n          <AddProduct\n            open={this.state.open}\n            item={this.state.item}\n            onClose={this.closeModal}\n            onSubmit={newItem => this.handleSubmit(newItem)}\n          />\n        ) : (\n          \"\"\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n`;\n\nconst AddButton = styled.button`\n  width: 130px;\n  padding: 7px 5px;\n  text-align: center;\n  font-size: 14px;\n  border: none;\n  border-radius: 5px;\n  color: white;\n  cursor: pointer;\n  background: #484848;\n  margin: 0 20px;\n  &:hover {\n    background: #888888;\n  }\n`;\n\nconst TableWrapper = styled.div`\n  max-height: 658px;\n  overflow-y: auto;\n`;\nconst Table = styled.table`\n  margin: 20px auto;\n  border-collapse: collapse;\n`;\n\nconst HeadCell = styled.th`\n  padding: 5px;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n`;\nconst BodyCell = styled.td`\n  padding: 5px;\n  text-align: left;\n  border: 1px solid black;\n`;\nconst DescColumn = styled(BodyCell)`\n  width: 550px;\n`;\nconst ProductImg = styled.img`\n  width: 100px;\n  height: 100px;\n`;\n\nconst IconImg = styled.img`\n  display: block;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin: 10px auto;\n`;\n"]},"metadata":{},"sourceType":"module"}