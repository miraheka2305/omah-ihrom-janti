{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/src/admin/Login/Login.jsx\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 70px;\\n  height: 30px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  float: right;\\n  color: #808080;\\n  margin: 10px 15px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  width: 250px;\\n  padding: 5px;\\n  border-radius: 5px;\\n  border: \", \";\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  margin-top: 0;\\n  margin-bottom: 5px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  color: white;\\n  font-size: 18px;\\n  width: 100px;\\n  display: inline-block;\\n  vertical-align: top;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 10px 0;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  color: white;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  color: white;\\n  line-height: 0.5em;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  width: 400px;\\n  height: 300px;\\n  border-radius: 10px;\\n  background: #a0a0a0;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  padding: 0 15px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 100vh;\\n  background: white;\\n  position: relative;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport auth from \"../../auth\";\nimport { Formik } from \"formik\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      username: \"admin\",\n      password: \"password\",\n      user: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n    _this.baseState = _this.state;\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogin = _this.handleLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var user = Object.assign({}, this.state.user);\n      user[e.target.name] = e.target.value;\n      this.setState({\n        user: user\n      });\n    }\n  }, {\n    key: \"postData\",\n    value: function postData() {\n      var userData = {\n        username: this.state.user.username,\n        password: this.state.user.password\n      };\n      var options = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json, text/plain, */*\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userData)\n      };\n      return fetch(\"http://localhost:8000/api/login\", options).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: \"handleLogin\",\n    value: function handleLogin() {\n      var _this2 = this;\n\n      this.postData().then(function (response) {\n        console.log(response);\n\n        if (response.Status === 1) {\n          _this2.setState({\n            username: _this2.state.user.username,\n            password: _this2.state.user.password\n          });\n\n          sessionStorage.setItem(\"jwtToken\", response.Data.token);\n          auth.login().then();\n          auth.login(function () {\n            _this2.props.history.push(\"/admin-home\");\n          });\n        } else {\n          _this2.setState(_this2.baseState); // errors.password = \"The given password is wrong\";\n\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var user = this.state.user;\n      return React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(LoginWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Hi, Welcome\"), React.createElement(Greetings, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"This is admin page of Omah Ihrom Janti. Enjoy to manage your products\"), React.createElement(Formik, {\n        validate: function validate() {\n          var errors = {};\n\n          if (!_this3.state.user.username) {\n            errors.username = \"Username is required\";\n          }\n\n          if (!_this3.state.user.password) {\n            errors.password = \"Password is required\";\n          }\n\n          return errors;\n        } // onSubmit={() => {\n        //   let errors = {};\n        //   if (this.state.user.username === this.state.username) {\n        //     if (this.state.user.password === this.state.password) {\n        //       auth.login(() => {\n        //         this.props.history.push(\"/admin-home\");\n        //       });\n        //     } else {\n        //       errors.password = \"The given password is wrong\";\n        //       // this.setState(this.baseState);\n        //     }\n        //   } else {\n        //     errors.username = \"The given username is wrong\";\n        //     // this.setState(this.baseState);\n        //   }\n        //   return errors;\n        // }}\n        ,\n        render: function render(_ref) {\n          var touched = _ref.touched,\n              errors = _ref.errors,\n              handleBlur = _ref.handleBlur;\n          return React.createElement(\"form\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(FormWrapper, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(Label, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \"Username\"), React.createElement(InputWrapper, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(Input, {\n            type: \"text\",\n            name: \"username\",\n            value: user.username,\n            border: touched.username && errors.username && \"1px solid red\",\n            onChange: function onChange(e) {\n              return _this3.handleChange(e);\n            },\n            onBlur: handleBlur,\n            placeholder: \"type your username\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }), touched.username && errors.username && React.createElement(Text, {\n            color: \"red\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, errors.username))), React.createElement(FormWrapper, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(Label, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, \"Password\"), React.createElement(InputWrapper, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(Input, {\n            type: \"password\",\n            name: \"password\",\n            value: user.password,\n            border: touched.password && errors.password && \"1px solid red\",\n            onChange: function onChange(e) {\n              return _this3.handleChange(e);\n            },\n            onBlur: handleBlur,\n            placeholder: \"type your password\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }), touched.password && errors.password && React.createElement(Text, {\n            color: \"red\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, errors.password))), React.createElement(SubmitButton, {\n            onClick: _this3.handleLogin,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          }, \"Login\"));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };\nvar Wrapper = styled.div(_templateObject());\nvar LoginWrapper = styled.div(_templateObject2());\nvar Title = styled.h1(_templateObject3());\nvar Greetings = styled.h4(_templateObject4());\nvar FormWrapper = styled.div(_templateObject5());\nvar Label = styled.div(_templateObject6());\nvar Text = styled.p(_templateObject7(), function (props) {\n  return props.color || \"#4d4d4d\";\n});\nvar InputWrapper = styled.div(_templateObject8());\nvar Input = styled.input(_templateObject9(), function (props) {\n  return props.border || \"1px solid #d6d6d6\";\n});\nvar SubmitButton = styled.button(_templateObject10());","map":{"version":3,"sources":["/Users/m.adhisatria/Documents/Project/omah-ihrom-janti/frontend/src/admin/Login/Login.jsx"],"names":["React","Component","styled","auth","Formik","Login","props","state","username","password","user","baseState","handleChange","bind","handleLogin","e","Object","assign","target","name","value","setState","userData","options","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","postData","console","log","Status","sessionStorage","setItem","Data","token","login","history","push","errors","touched","handleBlur","Wrapper","div","LoginWrapper","Title","h1","Greetings","h4","FormWrapper","Label","Text","p","color","InputWrapper","Input","input","border","SubmitButton","button"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport auth from \"../../auth\";\nimport { Formik } from \"formik\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"admin\",\n      password: \"password\",\n      user: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n    this.baseState = this.state;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleChange(e) {\n    let user = Object.assign({}, this.state.user);\n    user[e.target.name] = e.target.value;\n    this.setState({\n      user: user\n    });\n  }\n\n  postData() {\n    let userData = {\n      username: this.state.user.username,\n      password: this.state.user.password\n    };\n\n    const options = {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(userData)\n    };\n    return fetch(\"http://localhost:8000/api/login\", options).then(response => {\n      return response.json();\n    });\n  }\n\n  handleLogin() {\n    this.postData().then(response => {\n      console.log(response);\n      if (response.Status === 1) {\n        this.setState({\n          username: this.state.user.username,\n          password: this.state.user.password\n        });\n        sessionStorage.setItem(\"jwtToken\", response.Data.token);\n        auth.login().then()\n        auth.login(() => {\n          this.props.history.push(\"/admin-home\");\n        });\n      } else {\n        this.setState(this.baseState);\n        // errors.password = \"The given password is wrong\";\n      }\n    });\n  }\n\n  render() {\n    const { user } = this.state;\n    return (\n      <Wrapper>\n        <LoginWrapper>\n          <Title>Hi, Welcome</Title>\n          <Greetings>\n            This is admin page of Omah Ihrom Janti. Enjoy to manage your\n            products\n          </Greetings>\n          <Formik\n            validate={() => {\n              let errors = {};\n              if (!this.state.user.username) {\n                errors.username = \"Username is required\";\n              }\n              if (!this.state.user.password) {\n                errors.password = \"Password is required\";\n              }\n              return errors;\n            }}\n            // onSubmit={() => {\n            //   let errors = {};\n            //   if (this.state.user.username === this.state.username) {\n            //     if (this.state.user.password === this.state.password) {\n            //       auth.login(() => {\n            //         this.props.history.push(\"/admin-home\");\n            //       });\n            //     } else {\n            //       errors.password = \"The given password is wrong\";\n            //       // this.setState(this.baseState);\n            //     }\n            //   } else {\n            //     errors.username = \"The given username is wrong\";\n            //     // this.setState(this.baseState);\n            //   }\n            //   return errors;\n            // }}\n            render={({ touched, errors, handleBlur }) => (\n              <form>\n                <FormWrapper>\n                  <Label>Username</Label>\n                  <InputWrapper>\n                    <Input\n                      type=\"text\"\n                      name=\"username\"\n                      value={user.username}\n                      border={\n                        touched.username && errors.username && \"1px solid red\"\n                      }\n                      onChange={e => this.handleChange(e)}\n                      onBlur={handleBlur}\n                      placeholder=\"type your username\"\n                    />\n                    {touched.username && errors.username && (\n                      <Text color=\"red\">{errors.username}</Text>\n                    )}\n                  </InputWrapper>\n                </FormWrapper>\n                <FormWrapper>\n                  <Label>Password</Label>\n                  <InputWrapper>\n                    <Input\n                      type=\"password\"\n                      name=\"password\"\n                      value={user.password}\n                      border={\n                        touched.password && errors.password && \"1px solid red\"\n                      }\n                      onChange={e => this.handleChange(e)}\n                      onBlur={handleBlur}\n                      placeholder=\"type your password\"\n                    />\n                    {touched.password && errors.password && (\n                      <Text color=\"red\">{errors.password}</Text>\n                    )}\n                  </InputWrapper>\n                </FormWrapper>\n                <SubmitButton onClick={this.handleLogin}>Login</SubmitButton>\n              </form>\n            )}\n          />\n        </LoginWrapper>\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background: white;\n  position: relative;\n`;\nconst LoginWrapper = styled.div`\n  margin: 0 auto;\n  width: 400px;\n  height: 300px;\n  border-radius: 10px;\n  background: #a0a0a0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 0 15px;\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n  color: white;\n  line-height: 0.5em;\n`;\n\nconst Greetings = styled.h4`\n  text-align: center;\n  color: white;\n`;\n\nconst FormWrapper = styled.div`\n  margin: 10px 0;\n`;\n\nconst Label = styled.div`\n  color: white;\n  font-size: 18px;\n  width: 100px;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nconst Text = styled.p`\n  color: ${props => props.color || \"#4d4d4d\"};\n  margin-top: 0;\n  margin-bottom: 5px;\n`;\n\nconst InputWrapper = styled.div`\n  display: inline-block;\n`;\n\nconst Input = styled.input`\n  font-size: 15px;\n  width: 250px;\n  padding: 5px;\n  border-radius: 5px;\n  border: ${props => props.border || \"1px solid #d6d6d6\"};\n`;\n\nconst SubmitButton = styled.button`\n  width: 70px;\n  height: 30px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n  color: #808080;\n  margin: 10px 15px;\n`;\n"]},"metadata":{},"sourceType":"module"}